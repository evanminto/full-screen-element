{"mappings":"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","sources":["src/index.js","src/FullScreenElement.js","src/FullScreenToggleEvent.js","src/fullscreenAPI.js","src/requestFullscreen.js","src/exitFullscreen.js","src/FullScreenToggleElement.js"],"sourcesContent":["import FullScreenElement from './FullscreenElement';\nimport FullScreenToggleElement from './FullScreenToggleElement';\nimport FullScreenToggleEvent from './FullScreenToggleEvent';\n\ncustomElements.define(FullScreenElement.tagName, FullScreenElement);\ncustomElements.define(FullScreenToggleElement.tagName, FullScreenToggleElement);\n\nexport { FullScreenElement, FullScreenToggleElement, FullScreenToggleEvent };\n","import FullScreenToggleEvent from './FullScreenToggleEvent';\nimport fullscreenAPI from './fullscreenAPI';\n\n/**\n * Toggles fullscreen on itself in a cross-browser-compatible way when a\n * descendant element dispatches the `full-screen-toggle` event.\n *\n * @example\n * ```html\n *  <full-screen>\n *    <p>Fullscreenable content</p>\n *\n *    <full-screen-toggle>\n *      <button type=\"button\">\n *        Toggle Fullscreen\n *      </button>\n *    </full-screen-toggle>\n *  </full-screen>\n * ```\n *\n * @customElement full-screen\n */\nexport default class FullScreenElement extends HTMLElement {\n  static tagName = 'full-screen';\n\n  /**\n   * Toggles fullscreen on or off for the target element\n   *\n   * NOTE: This will fail unless called in the context of a user action\n   */\n  async toggle() {\n    const { element, exitFullscreen, requestFullscreen } = fullscreenAPI;\n\n    if (element === this) {\n      return exitFullscreen();\n    }\n\n    return requestFullscreen(this);\n  }\n\n  connectedCallback() {\n    this.addEventListener(FullScreenToggleEvent.eventName, () => this.toggle());\n  }\n}\n","export default class FullScreenToggleEvent extends Event {\n  static eventName = 'full-screen-toggle';\n\n  constructor() {\n    super(FullScreenToggleEvent.eventName, {\n      bubbles: true,\n      composed: true,\n    });\n  }\n}\n","import requestFullscreen from './requestFullscreen';\nimport exitFullscreen from './exitFullscreen';\n\nexport default {\n  get enabled() {\n    return document.fullscreenEnabled || document.webkitFullscreenEnabled;\n  },\n\n  /**\n   * @returns {Element}\n   */\n  get element() {\n    return document.fullscreenElement || document.webkitFullscreenElement;\n  },\n\n  requestFullscreen,\n  exitFullscreen,\n};\n","/**\n * @param {Element} el\n * @returns {Promise<void>}\n */\nexport default async function requestFullscreen(el) {\n  if ('requestFullscreen' in el) {\n    return el.requestFullscreen({ navigationUI: 'hide' });\n  } else if ('webkitRequestFullscreen' in el) {\n    return el.webkitRequestFullscreen({ navigationUI: 'hide' });\n  }\n}\n","/**\n * @returns {Promise<void>}\n */\nexport default function exitFullscreen() {\n  if ('exitFullscreen' in document) {\n    return document.exitFullscreen();\n  } else if ('webkitExitFullscreen' in document) {\n    return document.webkitExitFullscreen();\n  }\n}\n","import FullScreenToggleEvent from './FullScreenToggleEvent';\nimport fullscreenAPI from './fullscreenAPI';\n\n/**\n * When the user clicks a button descendant of this element, it dispatches a\n * `full-screen-toggle` event.\n *\n * If a template is provided, it will only instantiate it if the browser\n * supports fullscreen.\n *\n * @example\n * ```html\n *  <full-screen-toggle>\n *    <button type=\"button\">\n *      Toggle Fullscreen\n *    </button>\n *  </full-screen-toggle>\n * ```\n *\n * @customElement full-screen-toggle\n */\nexport default class FullScreenToggleElement extends HTMLElement {\n  /**\n   * @readonly\n   */\n  static tagName = 'full-screen-toggle';\n\n  /**\n   * @readonly\n   */\n  static behaviors = {\n    TEMPLATE: 'data-full-screen-toggle-template',\n    TRIGGER: 'data-full-screen-toggle-trigger',\n  };\n\n  connectedCallback() {\n    this.#addEventListeners();\n\n    if (fullscreenAPI.enabled) {\n      this.#cloneTemplate();\n    }\n  }\n\n  #addEventListeners() {\n    this.addEventListener('click', this.#handleClick.bind(this));\n\n    const handleFullscreenChange = this.#handleFullscreenChange.bind(this);\n    document.addEventListener('fullscreenchange', handleFullscreenChange);\n    document.addEventListener('webkitfullscreenchange', handleFullscreenChange);\n  }\n\n  #cloneTemplate() {\n    const fallbackToQS = (value, selector) =>\n      value || this.querySelector(selector);\n\n    const selectors = [\n      `template[${FullScreenToggleElement.behaviors.TEMPLATE}]`,\n      'template',\n    ];\n\n    /** @type {HTMLTemplateElement} */\n    const template = selectors.reduce(fallbackToQS, null);\n\n    if (!template) {\n      return;\n    }\n\n    template.replaceWith(template.content.cloneNode(true));\n  }\n\n  /**\n   * @param {MouseEvent} event\n   */\n  #handleClick(event) {\n    const customSelector = `[${FullScreenToggleElement.behaviors.TRIGGER}]`;\n    const hasCustomTrigger = Boolean(this.querySelector(customSelector));\n\n    const toggleEl = event.target.closest(\n      hasCustomTrigger ? customSelector : 'button'\n    );\n\n    if (toggleEl) {\n      event.preventDefault();\n      this.dispatchEvent(new FullScreenToggleEvent());\n    }\n  }\n\n  #handleFullscreenChange() {\n    const isFullscreen = Boolean(fullscreenAPI.element);\n\n    if (isFullscreen) {\n      this.setAttribute('active', '');\n    } else {\n      this.removeAttribute('active');\n    }\n  }\n}\n"],"names":[],"version":3,"file":"module.js.map"}