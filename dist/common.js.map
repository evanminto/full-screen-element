{"mappings":"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","sources":["src/index.js","src/FullScreenElement.js","<<jsx-config-pragma.js>>","src/requestFullscreen.js","src/exitFullscreen.js"],"sourcesContent":["import FullscreenElement from './FullscreenElement.js';\n\ncustomElements.define(FullscreenElement.tagName, FullscreenElement);\n\nexport default FullscreenElement;\n","import requestFullscreen from './requestFullscreen';\nimport exitFullscreen from './exitFullscreen';\n\n/**\n * Adds behavior to a button so that when clicked, it requests fullscreen mode\n * for the target element.\n *\n * The target element is the `<full-screen>` element by default, but the\n * `target` attribute can be used to target a different element instead.\n *\n * The button must be a descendent of this element and have the attribute\n * `data-behavior=\"full-screen-toggle\"`.\n *\n * @example\n * ```html\n *  <full-screen>\n *    <p>Fullscreenable content</p>\n *\n *    <button type=\"button\" data-behavior=\"full-screen-toggle\">\n *      Toggle Fullscreen\n *    </button>\n *  </full-screen>\n * ```\n *\n * @customElement full-screen\n * @attr {String} target - ID of the HTML element to make fullscreen (optional)\n */\nexport default class FullScreenElement extends HTMLElement {\n  static tagName = 'full-screen';\n\n  static behaviors = {\n    TOGGLE: 'full-screen-toggle',\n    TEMPLATE: 'full-screen-template',\n  };\n\n  /** @type {String} */\n  #target = null;\n\n  /**\n   * ID of an element. If the ID is null, an empty string, or doesn't exist\n   * in the same document or shadow root as this element, this element\n   * will be the default target.\n   */\n  get target() {\n    return this.#target === null ? this.getAttribute('target') : this.#target;\n  }\n\n  set target(value) {\n    this.#target = value.toString();\n  }\n\n  /**\n   * Toggles fullscreen on or off for the target element\n   *\n   * NOTE: This will fail unless called in the context of a user action\n   */\n  async toggle() {\n    const target = this.#getTargetEl();\n\n    if (\n      document.fullscreenElement === target ||\n      document.webkitFullscreenElement === target\n    ) {\n      return exitFullscreen();\n    }\n\n    return requestFullscreen(target);\n  }\n\n  connectedCallback() {\n    this.addEventListener('click', this.#handleClick.bind(this));\n\n    if (document.fullscreenEnabled || document.webkitFullscreenEnabled) {\n      /** @type {HTMLTemplateElement} */\n      const template = this.querySelector(\n        `template[data-behavior=\"${FullScreenElement.behaviors.TEMPLATE}\"]`\n      );\n\n      if (template) {\n        template.replaceWith(template.content.cloneNode(true));\n      }\n    }\n\n    this.attachShadow({ mode: 'open' }).innerHTML = `\n      <slot></slot>\n\n      <style>\n        :host {\n          display: block;\n        }\n      </style>\n    `;\n  }\n\n  /**\n   * @param {MouseEvent} event\n   */\n  #handleClick(event) {\n    const toggleEl = event.target.closest(\n      `[data-behavior=\"${FullScreenElement.behaviors.TOGGLE}\"]`\n    );\n\n    if (toggleEl) {\n      event.preventDefault();\n      this.toggle();\n    }\n  }\n\n  /**\n   * @returns {HTMLElement}\n   */\n  #getTargetEl() {\n    const idTarget =\n      this.target && this.getRootNode().getElementById(this.target);\n\n    return idTarget || this;\n  }\n}\n",null,"/**\n * @param {HTMLElement} el\n * @returns {Promise<void>}\n */\nexport default async function requestFullscreen(el) {\n  if ('requestFullscreen' in el) {\n    return el.requestFullscreen({ navigationUI: 'hide' });\n  } else if ('webkitRequestFullscreen' in el) {\n    return el.webkitRequestFullscreen({ navigationUI: 'hide' });\n  }\n}\n","/**\n * @returns {Promise<void>}\n */\nexport default function exitFullscreen() {\n  if ('exitFullscreen' in document) {\n    return document.exitFullscreen();\n  } else if ('webkitExitFullscreen' in document) {\n    return document.webkitExitFullscreen();\n  }\n}\n"],"names":[],"version":3,"file":"common.js.map"}